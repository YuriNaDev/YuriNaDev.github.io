{"version":3,"file":"component---src-pages-tags-tsx-c57277738d4cb9afbabe.js","mappings":"oOA6BA,EArByC,SAAC,GAAc,IAAZA,EAAW,EAAXA,KAC1C,GAAiBC,EAAAA,EAAAA,UAAQ,kBA2B3B,SAA6BD,GAE3B,IAAME,EACJF,EAAKG,QAAO,SAACC,EAAMC,GAAP,OAAgBD,EAAOC,EAAKC,aAAY,GAAKN,EAAKO,OAE1DC,EACJR,EAAKG,QAAO,SAACC,EAAMC,GAAP,OAAgBD,EAAI,SAAIC,EAAKC,WAAaJ,EAAM,KAAG,GAC/DF,EAAKO,OAEDE,EAAC,SAAGD,EAAM,IAChB,MAAO,CAAEN,EAAAA,EAAGO,IAAAA,GArCmBC,CAAoBV,KAAO,CAACA,IAAnDE,EAAR,EAAQA,EAAGO,EAAX,EAAWA,EAEX,OAAoB,IAAhBT,EAAKO,QACA,SAACI,EAAA,EAAD,KAIP,gBAAKC,UAAU,sCAAf,SACGZ,EAAKa,KAAI,SAACC,GAAD,OACR,SAACC,EAAA,EAAD,CAEEC,KAAMF,EAAIG,WACVC,MAAOJ,EAAIR,WACXa,MAAOC,EAASN,EAAIR,WAAYJ,EAAGO,IAH9BK,EAAIG,kBAqCnB,SAASG,EAASF,EAAehB,EAAWO,GAC1C,IAAMY,GAAKH,EAAQhB,GAAKO,EACxB,OAAIY,GAAK,IACA,SACEA,IAAM,KAAQA,GAAK,IACrB,QACEA,IAAM,KAAQA,EAAI,IACpB,SACEA,GAAK,KAAQA,EAAI,IACnB,OAEF,OC9DT,IASA,EATiD,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAClD,OACE,UAACC,EAAA,EAAD,YACE,SAACC,EAAA,EAAD,CAAKC,MAAM,OAAOC,SAAO,KACzB,SAAC,EAAD,CAAS1B,KAAMsB,EAAKK,OAAOC","sources":["webpack://yrnana.github.io/./src/components/tag/TagList.tsx","webpack://yrnana.github.io/./src/pages/tags.tsx"],"sourcesContent":["import { useMemo } from 'react';\nimport NoData from '~/components/common/NoData';\nimport Tag from './Tag';\n\nexport interface TagListProps {\n  tags: TagItemFragment[];\n}\n\nconst TagList: React.VFC<TagListProps> = ({ tags }) => {\n  const { m, σ } = useMemo(() => getMeanAndDeviation(tags), [tags]);\n\n  if (tags.length === 0) {\n    return <NoData />;\n  }\n\n  return (\n    <div className=\"flex flex-col space-y-4 items-start\">\n      {tags.map((tag) => (\n        <Tag\n          key={tag.fieldValue}\n          name={tag.fieldValue!}\n          count={tag.totalCount}\n          color={getColor(tag.totalCount, m, σ)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default TagList;\n\n/**\n * 태그목록으로부터 평균과 표준편차를 계산\n * @param tags 태그목록\n * @returns 평균 & 표준편차\n */\nfunction getMeanAndDeviation(tags: TagItemFragment[]) {\n  // 평균 m\n  const m =\n    tags.reduce((prev, curr) => prev + curr.totalCount, 0) / tags.length;\n  // 분산 V\n  const V =\n    tags.reduce((prev, curr) => prev + (curr.totalCount - m) ** 2, 0) /\n    tags.length;\n  // 표준편차 σ\n  const σ = V ** (1 / 2);\n  return { m, σ };\n}\n\n/**\n * 태그 frequency로부터 color를 계산\n * @param count 태그 frequency\n * @param m 평균\n * @param σ 표준편차\n * @returns 색상 string\n */\nfunction getColor(count: number, m: number, σ: number): string {\n  const z = (count - m) / σ; // 표준화\n  if (z < -0.84) {\n    return 'yellow'; // 0 ~ 20%\n  } else if (z >= -0.84 && z < -0.25) {\n    return 'green'; // 20 ~ 40%\n  } else if (z >= -0.25 && z < 0.25) {\n    return 'purple'; // 40 ~ 60%\n  } else if (z >= 0.25 && z < 0.84) {\n    return 'blue'; // 60 ~ 80%\n  }\n  return 'pink'; // 80 ~ 100%\n}\n","import { graphql, PageProps } from 'gatsby';\nimport Seo from '~/components/common/Seo';\nimport Layout from '~/components/layout/Layout';\nimport TagList from '~/components/tag/TagList';\n\nconst TagsPage: React.FC<PageProps<TagsQuery>> = ({ data }) => {\n  return (\n    <Layout>\n      <Seo title=\"tags\" noindex />\n      <TagList tags={data.allMdx.group} />\n    </Layout>\n  );\n};\n\nexport default TagsPage;\n\nexport const query = graphql`\n  query Tags {\n    allMdx(\n      filter: {\n        fileAbsolutePath: { glob: \"**/_contents/posts/*\" }\n        frontmatter: { published: { eq: true } }\n      }\n    ) {\n      group(field: frontmatter___tags) {\n        ...TagItem\n      }\n    }\n  }\n`;\n"],"names":["tags","useMemo","m","reduce","prev","curr","totalCount","length","V","σ","getMeanAndDeviation","NoData","className","map","tag","Tag","name","fieldValue","count","color","getColor","z","data","Layout","Seo","title","noindex","allMdx","group"],"sourceRoot":""}