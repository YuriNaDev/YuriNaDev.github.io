{"version":3,"file":"component---src-pages-tags-tsx-fa841db2f9d01019b914.js","mappings":"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","sources":["webpack://yrnana.github.io/./node_modules/lodash-es/_isFlattenable.js","webpack://yrnana.github.io/./node_modules/lodash-es/_baseFlatten.js","webpack://yrnana.github.io/./node_modules/lodash-es/_apply.js","webpack://yrnana.github.io/./node_modules/lodash-es/_overRest.js","webpack://yrnana.github.io/./node_modules/lodash-es/constant.js","webpack://yrnana.github.io/./node_modules/lodash-es/_defineProperty.js","webpack://yrnana.github.io/./node_modules/lodash-es/_baseSetToString.js","webpack://yrnana.github.io/./node_modules/lodash-es/_shortOut.js","webpack://yrnana.github.io/./node_modules/lodash-es/_setToString.js","webpack://yrnana.github.io/./node_modules/lodash-es/_baseRest.js","webpack://yrnana.github.io/./node_modules/lodash-es/_isIterateeCall.js","webpack://yrnana.github.io/./node_modules/lodash-es/sortBy.js","webpack://yrnana.github.io/./src/components/tag/TagList.tsx","webpack://yrnana.github.io/./src/pages/tags.tsx"],"sourcesContent":["import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n/** Built-in value references. */\n\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\n\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\n\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n\n  return result;\n}\n\nexport default baseFlatten;","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n\n    case 1:\n      return func.call(thisArg, args[0]);\n\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n\n  return func.apply(thisArg, args);\n}\n\nexport default apply;","import apply from './_apply.js';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max;\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\n\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n  return function () {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n\n    index = -1;\n    var otherArgs = Array(start + 1);\n\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function () {\n    return value;\n  };\n}\n\nexport default constant;","import getNative from './_getNative.js';\n\nvar defineProperty = function () {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}();\n\nexport default defineProperty;","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\n\nvar baseSetToString = !defineProperty ? identity : function (func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\nexport default baseSetToString;","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeNow = Date.now;\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\n\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n  return function () {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n    lastCalled = stamp;\n\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\n\nvar setToString = shortOut(baseSetToString);\nexport default setToString;","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\n\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\n\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n\n  var type = typeof index;\n\n  if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\n    return eq(object[index], value);\n  }\n\n  return false;\n}\n\nexport default isIterateeCall;","import baseFlatten from './_baseFlatten.js';\nimport baseOrderBy from './_baseOrderBy.js';\nimport baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\n\nvar sortBy = baseRest(function (collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n\n  var length = iteratees.length;\n\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\nexport default sortBy;","import { useMemo } from 'react';\nimport { sortBy } from 'lodash-es';\nimport NoData from '~/components/common/NoData';\nimport Tag from './Tag';\n\nexport interface TagListProps {\n  tags: TagItemFragment[];\n}\n\nconst TagList: React.VFC<TagListProps> = ({ tags }) => {\n  const { m, σ } = useMemo(() => getMeanAndDeviation(tags), [tags]);\n  const sortedTags = useMemo(\n    () => sortBy(tags, (tag) => tag.fieldValue?.toLowerCase()),\n    [tags],\n  );\n\n  if (sortedTags.length === 0) {\n    return <NoData />;\n  }\n\n  return (\n    <div className=\"flex flex-col space-y-4 items-start\">\n      {sortedTags.map((tag) => (\n        <Tag\n          key={tag.fieldValue}\n          name={tag.fieldValue!}\n          count={tag.totalCount}\n          color={getColor(tag.totalCount, m, σ)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default TagList;\n\n/**\n * 태그목록으로부터 평균과 표준편차를 계산\n * @param tags 태그목록\n * @returns 평균 & 표준편차\n */\nfunction getMeanAndDeviation(tags: TagItemFragment[]) {\n  // 평균 m\n  const m =\n    tags.reduce((prev, curr) => prev + curr.totalCount, 0) / tags.length;\n  // 분산 V\n  const V =\n    tags.reduce((prev, curr) => prev + (curr.totalCount - m) ** 2, 0) /\n    tags.length;\n  // 표준편차 σ\n  const σ = V ** (1 / 2);\n  return { m, σ };\n}\n\n/**\n * 태그 frequency로부터 color를 계산\n * @param count 태그 frequency\n * @param m 평균\n * @param σ 표준편차\n * @returns 색상 string\n */\nfunction getColor(count: number, m: number, σ: number): string {\n  const z = (count - m) / σ; // 표준화\n  if (z < -0.84) {\n    return 'yellow'; // 0 ~ 20%\n  } else if (z >= -0.84 && z < -0.25) {\n    return 'violet'; // 20 ~ 40%\n  } else if (z >= -0.25 && z < 0.25) {\n    return 'green'; // 40 ~ 60%\n  } else if (z >= 0.25 && z < 0.84) {\n    return 'sky'; // 60 ~ 80%\n  }\n  return 'rose'; // 80 ~ 100%\n}\n","import { graphql, PageProps } from 'gatsby';\nimport Seo from '~/components/common/Seo';\nimport Layout from '~/components/layout/Layout';\nimport TagList from '~/components/tag/TagList';\n\nconst TagsPage: React.FC<PageProps<TagsQuery>> = ({ data }) => {\n  return (\n    <Layout>\n      <Seo title=\"tags\" />\n      <TagList tags={data.allMarkdownRemark.group} />\n    </Layout>\n  );\n};\n\nexport default TagsPage;\n\nexport const query = graphql`\n  query Tags {\n    allMarkdownRemark(\n      filter: {\n        fileAbsolutePath: { glob: \"**/_contents/posts/*\" }\n        frontmatter: { published: { eq: true } }\n      }\n    ) {\n      group(field: frontmatter___tags) {\n        ...TagItem\n      }\n    }\n  }\n`;\n"],"names":["spreadableSymbol","undefined","value","isArray","isArguments","baseFlatten","array","depth","predicate","isStrict","result","index","length","func","thisArg","args","call","apply","nativeMax","Math","max","start","transform","arguments","Array","otherArgs","this","Object","e","string","identity","nativeNow","Date","now","count","lastCalled","stamp","remaining","object","isObject","type","isArrayLike","eq","collection","iteratees","tags","useMemo","m","reduce","prev","curr","totalCount","V","σ","getMeanAndDeviation","sortedTags","tag","fieldValue","toLowerCase","NoData","className","map","Tag","name","color","getColor","z","data","Layout","Seo","title","allMarkdownRemark","group"],"sourceRoot":""}