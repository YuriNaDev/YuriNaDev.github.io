{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/post/2021-03-09-web-worker-service-worker",
    "result": {"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"브라우저는 자바스크립트를 실행하기 위해서 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"싱글 스레드"}]},{"type":"text","value":"를 사용하므로 거대한 자바스크립트 코드를 돌리면 메인 스레드가 block 되고 사용자 경험이 악화될 것이다. 앱에서 다중 스레딩 모델을 사용하는 것 처럼, 웹에서는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Worker"}]},{"type":"text","value":"를 사용해서 백그라운드 스레드에서 스크립트를 실행할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"web-worker와-service-worker","style":"position:relative;"},"children":[{"type":"text","value":"Web Worker와 Service Worker"},{"type":"element","tagName":"a","properties":{"href":"#web-worker%EC%99%80-service-worker","ariaLabel":"web worker와 service worker permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","stroke":"currentColor"},"children":[{"type":"element","tagName":"path","properties":{"strokeLineCap":"round","strokeLineJoin":"round","strokeWidth":"2","d":"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"공통점","style":"position:relative;"},"children":[{"type":"text","value":"공통점"},{"type":"element","tagName":"a","properties":{"href":"#%EA%B3%B5%ED%86%B5%EC%A0%90","ariaLabel":"공통점 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","stroke":"currentColor"},"children":[{"type":"element","tagName":"path","properties":{"strokeLineCap":"round","strokeLineJoin":"round","strokeWidth":"2","d":"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"추가 스레드에서 실행되므로 메인 스레드를 블록하지 않고 실행될 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Window"}]},{"type":"text","value":"나 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Document"}]},{"type":"text","value":" 객체에 접근할 수 없어서 DOM과 직접적으로 interact 할 수 없고 browser API에 접근하는데 한정적이다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"차이점","style":"position:relative;"},"children":[{"type":"text","value":"차이점"},{"type":"element","tagName":"a","properties":{"href":"#%EC%B0%A8%EC%9D%B4%EC%A0%90","ariaLabel":"차이점 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","stroke":"currentColor"},"children":[{"type":"element","tagName":"path","properties":{"strokeLineCap":"round","strokeLineJoin":"round","strokeWidth":"2","d":"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"서비스 워커는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"fetch"}]},{"type":"text","value":" event와 같은 네트워크 요청을 탈취하거나 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"push"}]},{"type":"text","value":" event와 같은 Push API를 listen 할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"페이지는 여러개의 웹 워커를 생성할 수 있지만, 단일 서비스 워커는 등록된 scope내에서 모든 활성 탭을 제어한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"웹 워커의 수명은 자신이 속한 탭과 밀접하게 결합되는 반면, 서비스 워커의 수명은 독립적이다. 따라서 웹 워커가 실행중인 탭을 닫으면 워커가 종료되지만, 서비스 워커는 활성 탭이 열려있지 않아도 백그라운드에서 계속 실행될 수 있다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"사용-사례","style":"position:relative;"},"children":[{"type":"text","value":"사용 사례"},{"type":"element","tagName":"a","properties":{"href":"#%EC%82%AC%EC%9A%A9-%EC%82%AC%EB%A1%80","ariaLabel":"사용 사례 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","stroke":"currentColor"},"children":[{"type":"element","tagName":"path","properties":{"strokeLineCap":"round","strokeLineJoin":"round","strokeWidth":"2","d":"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"web-workers","style":"position:relative;"},"children":[{"type":"text","value":"Web Workers"},{"type":"element","tagName":"a","properties":{"href":"#web-workers","ariaLabel":"web workers permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","stroke":"currentColor"},"children":[{"type":"element","tagName":"path","properties":{"strokeLineCap":"round","strokeLineJoin":"round","strokeWidth":"2","d":"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"웹 워커는 주로 UI block을 피하기 위해 무거운 연산이 소요되는 작업(AI, games, image encoding, etc)을 보조 스레드에서 실행하기 위해 사용된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/GoogleChromeLabs/comlink"},"children":[{"type":"text","value":"Comlink"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://dassur.ma/things/react-redux-comlink/"},"children":[{"type":"text","value":"React + Redux + Comlink"}]},{"type":"text","value":" : off the main thread (OMT) 아키텍처를 리액트에서 구축하는 방법"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/GoogleChromeLabs/worker-plugin"},"children":[{"type":"text","value":"Webpack용 플러그인"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"service-workers","style":"position:relative;"},"children":[{"type":"text","value":"Service Workers"},{"type":"element","tagName":"a","properties":{"href":"#service-workers","ariaLabel":"service workers permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","stroke":"currentColor"},"children":[{"type":"element","tagName":"path","properties":{"strokeLineCap":"round","strokeLineJoin":"round","strokeWidth":"2","d":"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"서비스 워커는 일반적으로 네트워크 프록시 같은 역할이나 백그라운드 작업, 캐싱, 오프라인을 처리하는데 사용된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developers.google.com/web/tools/workbox"},"children":[{"type":"text","value":"Workbox"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://web.dev/two-way-communication-guide/"},"children":[{"type":"text","value":"페이지와 서비스 워커간 양방향 통신 사례"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://web.dev/broadcast-updates-guide/"},"children":[{"type":"text","value":"Broadcast Updates"}]},{"type":"text","value":" : Window to Service Workers 사례"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://web.dev/imperative-caching-guide/"},"children":[{"type":"text","value":"명령형 캐싱"}]},{"type":"text","value":" : 페이지에서 서비스워커를 호출하여 리소스를 미리 캐싱"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"참고","style":"position:relative;"},"children":[{"type":"text","value":"참고"},{"type":"element","tagName":"a","properties":{"href":"#%EC%B0%B8%EA%B3%A0","ariaLabel":"참고 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","stroke":"currentColor"},"children":[{"type":"element","tagName":"path","properties":{"strokeLineCap":"round","strokeLineJoin":"round","strokeWidth":"2","d":"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://web.dev/workers-overview/"},"children":[{"type":"text","value":"https://web.dev/workers-overview/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developers.google.com/web/fundamentals/primers/service-workers"},"children":[{"type":"text","value":"https://developers.google.com/web/fundamentals/primers/service-workers"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"브라우저는 자바스크립트를 실행하기 위해서 싱글 스레드를 사용하므로 거대한 자바스크립트 코드를 돌리면 메인 스레드가 block 되고 사용자 경험이 악화될 것이다. 앱에서 다중 스레딩 모델을 사용하는 것 처럼, 웹에서는 를 사용해서 백그라운드 스레드에서 스크립트를 실행할…","frontmatter":{"title":"Web Worker와 Service Worker","date":"2021-03-09T23:15:32+09:00","tags":["Service Worker","Web Worker"],"excerpt":null,"preview":null}}},"pageContext":{"id":"0151b235-8155-5f2c-b336-d0e6410852c3","next":{"slug":"/post/2021-03-13-ecmascript-2021","frontmatter":{"title":"ECMAScript 2021"}},"previous":{"slug":"/post/2021-03-09","frontmatter":{"title":"웹사이트 성능 메트릭"}}}},
    "staticQueryHashes": ["1957264973","5457840"]}