import"./hoisted.a23147bd.js";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mark={exports:{}};/*!***************************************************
* mark.js v8.11.1
* https://markjs.io/
* Copyright (c) 2014–2018, Julian Kühnel
* Released under the MIT license https://git.io/vwTVl
*****************************************************/(function(e,n){(function(r,i){e.exports=i()})(commonjsGlobal,function(){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},i=function(x,f){if(!(x instanceof f))throw new TypeError("Cannot call a class as a function")},s=function(){function x(f,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(f,o.key,o)}}return function(f,t,a){return t&&x(f.prototype,t),a&&x(f,a),f}}(),l=Object.assign||function(x){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(x[a]=t[a])}return x},u=function(){function x(f){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5e3;i(this,x),this.ctx=f,this.iframes=t,this.exclude=a,this.iframesTimeout=o}return s(x,[{key:"getContexts",value:function(){var t=void 0,a=[];return typeof this.ctx>"u"||!this.ctx?t=[]:NodeList.prototype.isPrototypeOf(this.ctx)?t=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?t=this.ctx:typeof this.ctx=="string"?t=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):t=[this.ctx],t.forEach(function(o){var c=a.filter(function(h){return h.contains(o)}).length>0;a.indexOf(o)===-1&&!c&&a.push(o)}),a}},{key:"getIframeContents",value:function(t,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},c=void 0;try{var h=t.contentWindow;if(c=h.document,!h||!c)throw new Error("iframe inaccessible")}catch{o()}c&&a(c)}},{key:"isIframeBlank",value:function(t){var a="about:blank",o=t.getAttribute("src").trim(),c=t.contentWindow.location.href;return c===a&&o!==a&&o}},{key:"observeIframeLoad",value:function(t,a,o){var c=this,h=!1,d=null,p=function m(){if(!h){h=!0,clearTimeout(d);try{c.isIframeBlank(t)||(t.removeEventListener("load",m),c.getIframeContents(t,a,o))}catch{o()}}};t.addEventListener("load",p),d=setTimeout(p,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,a,o){try{t.contentWindow.document.readyState==="complete"?this.isIframeBlank(t)?this.observeIframeLoad(t,a,o):this.getIframeContents(t,a,o):this.observeIframeLoad(t,a,o)}catch{o()}}},{key:"waitForIframes",value:function(t,a){var o=this,c=0;this.forEachIframe(t,function(){return!0},function(h){c++,o.waitForIframes(h.querySelector("html"),function(){--c||a()})},function(h){h||a()})}},{key:"forEachIframe",value:function(t,a,o){var c=this,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},d=t.querySelectorAll("iframe"),p=d.length,m=0;d=Array.prototype.slice.call(d);var v=function(){--p<=0&&h(m)};p||v(),d.forEach(function(_){x.matches(_,c.exclude)?v():c.onIframeReady(_,function(k){a(_)&&(m++,o(k)),v()},v)})}},{key:"createIterator",value:function(t,a,o){return document.createNodeIterator(t,a,o,!1)}},{key:"createInstanceOnIframe",value:function(t){return new x(t.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,a,o){var c=t.compareDocumentPosition(o),h=Node.DOCUMENT_POSITION_PRECEDING;if(c&h)if(a!==null){var d=a.compareDocumentPosition(o),p=Node.DOCUMENT_POSITION_FOLLOWING;if(d&p)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(t){var a=t.previousNode(),o=void 0;return a===null?o=t.nextNode():o=t.nextNode()&&t.nextNode(),{prevNode:a,node:o}}},{key:"checkIframeFilter",value:function(t,a,o,c){var h=!1,d=!1;return c.forEach(function(p,m){p.val===o&&(h=m,d=p.handled)}),this.compareNodeIframe(t,a,o)?(h===!1&&!d?c.push({val:o,handled:!0}):h!==!1&&!d&&(c[h].handled=!0),!0):(h===!1&&c.push({val:o,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,a,o,c){var h=this;t.forEach(function(d){d.handled||h.getIframeContents(d.val,function(p){h.createInstanceOnIframe(p).forEachNode(a,o,c)})})}},{key:"iterateThroughNodes",value:function(t,a,o,c,h){for(var d=this,p=this.createIterator(a,t,c),m=[],v=[],_=void 0,k=void 0,w=function(){var I=d.getIteratorNode(p);return k=I.prevNode,_=I.node,_};w();)this.iframes&&this.forEachIframe(a,function(E){return d.checkIframeFilter(_,k,E,m)},function(E){d.createInstanceOnIframe(E).forEachNode(t,function(I){return v.push(I)},c)}),v.push(_);v.forEach(function(E){o(E)}),this.iframes&&this.handleOpenIframes(m,t,o,c),h()}},{key:"forEachNode",value:function(t,a,o){var c=this,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},d=this.getContexts(),p=d.length;p||h(),d.forEach(function(m){var v=function(){c.iterateThroughNodes(t,m,a,o,function(){--p<=0&&h()})};c.iframes?c.waitForIframes(m,v):v()})}}],[{key:"matches",value:function(t,a){var o=typeof a=="string"?[a]:a,c=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(c){var h=!1;return o.every(function(d){return c.call(t,d)?(h=!0,!1):!0}),h}else return!1}}]),x}(),g=function(){function x(f){i(this,x),this.ctx=f,this.ie=!1;var t=window.navigator.userAgent;(t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1)&&(this.ie=!0)}return s(x,[{key:"log",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"debug",o=this.opt.log;this.opt.debug&&(typeof o>"u"?"undefined":r(o))==="object"&&typeof o[a]=="function"&&o[a]("mark.js: "+t)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return this.opt.wildcards!=="disabled"&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),this.opt.wildcards!=="disabled"&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t),t}},{key:"createSynonymsRegExp",value:function(t){var a=this.opt.synonyms,o=this.opt.caseSensitive?"":"i",c=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var h in a)if(a.hasOwnProperty(h)){var d=a[h],p=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(h):this.escapeStr(h),m=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(d):this.escapeStr(d);p!==""&&m!==""&&(t=t.replace(new RegExp("("+this.escapeStr(p)+"|"+this.escapeStr(m)+")","gm"+o),c+("("+this.processSynomyms(p)+"|")+(this.processSynomyms(m)+")")+c))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return t=t.replace(/(?:\\)*\?/g,function(a){return a.charAt(0)==="\\"?"?":""}),t.replace(/(?:\\)*\*/g,function(a){return a.charAt(0)==="\\"?"*":""})}},{key:"createWildcardsRegExp",value:function(t){var a=this.opt.wildcards==="withSpaces";return t.replace(/\u0001/g,a?"[\\S\\s]?":"\\S?").replace(/\u0002/g,a?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,function(a,o,c){var h=c.charAt(o+1);return/[(|)\\]/.test(h)||h===""?a:a+"\0"})}},{key:"createJoinersRegExp",value:function(t){var a=[],o=this.opt.ignorePunctuation;return Array.isArray(o)&&o.length&&a.push(this.escapeStr(o.join(""))),this.opt.ignoreJoiners&&a.push("\\u00ad\\u200b\\u200c\\u200d"),a.length?t.split(/\u0000+/).join("["+a.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var a=this.opt.caseSensitive?"":"i",o=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],c=[];return t.split("").forEach(function(h){o.every(function(d){if(d.indexOf(h)!==-1){if(c.indexOf(d)>-1)return!1;t=t.replace(new RegExp("["+d+"]","gm"+a),"["+d+"]"),c.push(d)}return!0})}),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var a=this,o="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿",c=this.opt.accuracy,h=typeof c=="string"?c:c.value,d=typeof c=="string"?[]:c.limiters,p="";switch(d.forEach(function(m){p+="|"+a.escapeStr(m)}),h){case"partially":default:return"()("+t+")";case"complementary":return p="\\s"+(p||this.escapeStr(o)),"()([^"+p+"]*"+t+"[^"+p+"]*)";case"exactly":return"(^|\\s"+p+")("+t+")(?=$|\\s"+p+")"}}},{key:"getSeparatedKeywords",value:function(t){var a=this,o=[];return t.forEach(function(c){a.opt.separateWordSearch?c.split(" ").forEach(function(h){h.trim()&&o.indexOf(h)===-1&&o.push(h)}):c.trim()&&o.indexOf(c)===-1&&o.push(c)}),{keywords:o.sort(function(c,h){return h.length-c.length}),length:o.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var a=this;if(!Array.isArray(t)||Object.prototype.toString.call(t[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var o=[],c=0;return t.sort(function(h,d){return h.start-d.start}).forEach(function(h){var d=a.callNoMatchOnInvalidRanges(h,c),p=d.start,m=d.end,v=d.valid;v&&(h.start=p,h.length=m-p,o.push(h),c=m)}),o}},{key:"callNoMatchOnInvalidRanges",value:function(t,a){var o=void 0,c=void 0,h=!1;return t&&typeof t.start<"u"?(o=parseInt(t.start,10),c=o+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&c-a>0&&c-o>0?h=!0:(this.log("Ignoring invalid or overlapping range: "+(""+JSON.stringify(t))),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:o,end:c,valid:h}}},{key:"checkWhitespaceRanges",value:function(t,a,o){var c=void 0,h=!0,d=o.length,p=a-d,m=parseInt(t.start,10)-p;return m=m>d?d:m,c=m+parseInt(t.length,10),c>d&&(c=d,this.log("End range automatically set to the max value of "+d)),m<0||c-m<0||m>d||c>d?(h=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):o.substring(m,c).replace(/\s+/g,"")===""&&(h=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:m,end:c,valid:h}}},{key:"getTextNodes",value:function(t){var a=this,o="",c=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(h){c.push({start:o.length,end:(o+=h.textContent).length,node:h})},function(h){return a.matchesExclude(h.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){t({value:o,nodes:c})})}},{key:"matchesExclude",value:function(t){return u.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,a,o){var c=this.opt.element?this.opt.element:"mark",h=t.splitText(a),d=h.splitText(o-a),p=document.createElement(c);return p.setAttribute("data-markjs","true"),this.opt.className&&p.setAttribute("class",this.opt.className),p.textContent=h.textContent,h.parentNode.replaceChild(p,h),d}},{key:"wrapRangeInMappedTextNode",value:function(t,a,o,c,h){var d=this;t.nodes.every(function(p,m){var v=t.nodes[m+1];if(typeof v>"u"||v.start>a){if(!c(p.node))return!1;var _=a-p.start,k=(o>p.end?p.end:o)-p.start,w=t.value.substr(0,p.start),E=t.value.substr(k+p.start);if(p.node=d.wrapRangeInTextNode(p.node,_,k),t.value=w+E,t.nodes.forEach(function(I,b){b>=m&&(t.nodes[b].start>0&&b!==m&&(t.nodes[b].start-=k),t.nodes[b].end-=k)}),o-=k,h(p.node.previousSibling,p.start),o>p.end)a=p.end;else return!1}return!0})}},{key:"wrapMatches",value:function(t,a,o,c,h){var d=this,p=a===0?0:a+1;this.getTextNodes(function(m){m.nodes.forEach(function(v){v=v.node;for(var _=void 0;(_=t.exec(v.textContent))!==null&&_[p]!=="";)if(o(_[p],v)){var k=_.index;if(p!==0)for(var w=1;w<p;w++)k+=_[w].length;v=d.wrapRangeInTextNode(v,k,k+_[p].length),c(v.previousSibling),t.lastIndex=0}}),h()})}},{key:"wrapMatchesAcrossElements",value:function(t,a,o,c,h){var d=this,p=a===0?0:a+1;this.getTextNodes(function(m){for(var v=void 0;(v=t.exec(m.value))!==null&&v[p]!=="";){var _=v.index;if(p!==0)for(var k=1;k<p;k++)_+=v[k].length;var w=_+v[p].length;d.wrapRangeInMappedTextNode(m,_,w,function(E){return o(v[p],E)},function(E,I){t.lastIndex=I,c(E)})}h()})}},{key:"wrapRangeFromIndex",value:function(t,a,o,c){var h=this;this.getTextNodes(function(d){var p=d.value.length;t.forEach(function(m,v){var _=h.checkWhitespaceRanges(m,p,d.value),k=_.start,w=_.end,E=_.valid;E&&h.wrapRangeInMappedTextNode(d,k,w,function(I){return a(I,m,d.value.substring(k,w),v)},function(I){o(I,m)})}),c()})}},{key:"unwrapMatches",value:function(t){for(var a=t.parentNode,o=document.createDocumentFragment();t.firstChild;)o.appendChild(t.removeChild(t.firstChild));a.replaceChild(o,t),this.ie?this.normalizeTextNode(a):a.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(t.nodeType===3)for(;t.nextSibling&&t.nextSibling.nodeType===3;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,a){var o=this;this.opt=a,this.log('Searching with expression "'+t+'"');var c=0,h="wrapMatches",d=function(m){c++,o.opt.each(m)};this.opt.acrossElements&&(h="wrapMatchesAcrossElements"),this[h](t,this.opt.ignoreGroups,function(p,m){return o.opt.filter(m,p,c)},d,function(){c===0&&o.opt.noMatch(t),o.opt.done(c)})}},{key:"mark",value:function(t,a){var o=this;this.opt=a;var c=0,h="wrapMatches",d=this.getSeparatedKeywords(typeof t=="string"?[t]:t),p=d.keywords,m=d.length,v=this.opt.caseSensitive?"":"i",_=function k(w){var E=new RegExp(o.createRegExp(w),"gm"+v),I=0;o.log('Searching with expression "'+E+'"'),o[h](E,1,function(b,N){return o.opt.filter(N,w,c,I)},function(b){I++,c++,o.opt.each(b)},function(){I===0&&o.opt.noMatch(w),p[m-1]===w?o.opt.done(c):k(p[p.indexOf(w)+1])})};this.opt.acrossElements&&(h="wrapMatchesAcrossElements"),m===0?this.opt.done(c):_(p[0])}},{key:"markRanges",value:function(t,a){var o=this;this.opt=a;var c=0,h=this.checkRanges(t);h&&h.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(h)),this.wrapRangeFromIndex(h,function(d,p,m,v){return o.opt.filter(d,p,m,v)},function(d,p){c++,o.opt.each(d,p)},function(){o.opt.done(c)})):this.opt.done(c)}},{key:"unmark",value:function(t){var a=this;this.opt=t;var o=this.opt.element?this.opt.element:"*";o+="[data-markjs]",this.opt.className&&(o+="."+this.opt.className),this.log('Removal selector "'+o+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(c){a.unwrapMatches(c)},function(c){var h=u.matches(c,o),d=a.matchesExclude(c);return!h||d?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(t){this._opt=l({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new u(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),x}();function y(x){var f=this,t=new g(x);return this.mark=function(a,o){return t.mark(a,o),f},this.markRegExp=function(a,o){return t.markRegExp(a,o),f},this.markRanges=function(a,o){return t.markRanges(a,o),f},this.unmark=function(a){return t.unmark(a),f},this}return y})})(mark);var markExports=mark.exports;const Mark=getDefaultExportFromCjs(markExports);function parse_option(e,n){return typeof e>"u"?n:e}function create_object_array(e){const n=Array(e);for(let r=0;r<e;r++)n[r]=create_object();return n}function get_keys(e){return Object.keys(e)}function create_object(){return Object.create(null)}function concat(e){return[].concat.apply([],e)}function sort_by_length_down(e,n){return n.length-e.length}function is_array(e){return e.constructor===Array}function is_string(e){return typeof e=="string"}function is_object(e){return typeof e=="object"}function is_function(e){return typeof e=="function"}function pipeline(e,n,r,i){if(e&&(n&&(e=replace(e,n)),this.matcher&&(e=replace(e,this.matcher)),this.stemmer&&1<e.length&&(e=replace(e,this.stemmer)),i&&1<e.length&&(e=collapse(e)),r||r==="")){const s=e.split(r);return this.filter?filter$1(s,this.filter):s}return e}const regex_whitespace=/[\p{Z}\p{S}\p{P}\p{C}]+/u,regex_normalize=/[\u0300-\u036f]/g;function normalize(e){return e.normalize&&(e=e.normalize("NFD").replace(regex_normalize,"")),e}function init_filter(e){const n=create_object();for(let r=0,i=e.length;r<i;r++)n[e[r]]=1;return n}function init_stemmer_or_matcher(e,n){const r=get_keys(e),i=r.length,s=[];let l="",u=0;for(let g,y,x=0;x<i;x++)g=r[x],y=e[g],y?(s[u++]=regex$1(n?"(?!\\b)"+g+"(\\b|_)":g),s[u++]=y):l+=(l?"|":"")+g;return l&&(s[u++]=regex$1(n?"(?!\\b)("+l+")(\\b|_)":"("+l+")"),s[u]=""),s}function replace(e,n){for(let r=0,i=n.length;r<i&&(e=e.replace(n[r],n[r+1]),!!e);r+=2);return e}function regex$1(e){return new RegExp(e,"g")}function collapse(e){let n="",r="";for(let i,s=0,l=e.length;s<l;s++)(i=e[s])!==r&&(n+=r=i);return n}function filter$1(e,n){const r=e.length,i=[];for(let s=0,l=0;s<r;s++){const u=e[s];u&&!n[u]&&(i[l++]=u)}return i}function encode$4(e){return pipeline.call(this,(""+e).toLowerCase(),!1,regex_whitespace,!1)}const global_lang={},global_charset={};function apply_async(e){register$1(e,"add"),register$1(e,"append"),register$1(e,"search"),register$1(e,"update"),register$1(e,"remove")}function register$1(e,n){e[n+"Async"]=function(){const r=this,i=arguments,s=i[i.length-1];let l;is_function(s)&&(l=s,delete i[i.length-1]);const u=new Promise(function(g){setTimeout(function(){r.async=!0;const y=r[n].apply(r,i);r.async=!1,g(y)})});return l?(u.then(l),this):u}}function intersect(e,n,r,i){const s=e.length;let l,u,g=[],y=0;i&&(i=[]);for(let x=s-1;0<=x;x--){const f=e[x],t=f.length,a=create_object();let o=!l;for(let c=0;c<t;c++){const h=f[c],d=h.length;if(d)for(let p,m,v=0;v<d;v++)if(m=h[v],l){if(l[m]){if(!x){if(r)r--;else if(g[y++]=m,y===n)return g}(x||i)&&(a[m]=1),o=!0}if(i&&(p=(u[m]||0)+1,u[m]=p,p<s)){const _=i[p-2]||(i[p-2]=[]);_[_.length]=m}}else a[m]=1}if(i)l||(u=a);else if(!o)return[];l=a}if(i)for(let x,f,t=i.length-1;0<=t;t--){x=i[t],f=x.length;for(let a,o=0;o<f;o++)if(a=x[o],!l[a]){if(r)r--;else if(g[y++]=a,y===n)return g;l[a]=1}}return g}function intersect_union(e,n){const r=create_object(),i=create_object(),s=[];for(let l=0;l<e.length;l++)r[e[l]]=1;for(let l,u=0;u<n.length;u++){l=n[u];for(let g,y=0;y<l.length;y++)g=l[y],r[g]&&!i[g]&&(i[g]=1,s[s.length]=g)}return s}function CacheClass(e){this.limit=e!==!0&&e,this.cache=create_object(),this.queue=[]}function searchCache(e,n,r){is_object(e)&&(e=e.query);let i=this.cache.get(e);return i||(i=this.search(e,n,r),this.cache.set(e,i)),i}CacheClass.prototype.set=function(e,n){if(!this.cache[e]){let r=this.queue.length;r===this.limit?delete this.cache[this.queue[r-1]]:r++;for(let i=r-1;0<i;i--)this.queue[i]=this.queue[i-1];this.queue[0]=e}this.cache[e]=n},CacheClass.prototype.get=function(e){const n=this.cache[e];if(this.limit&&n){const r=this.queue.indexOf(e);if(r){const i=this.queue[r-1];this.queue[r-1]=this.queue[r],this.queue[r]=i}}return n},CacheClass.prototype.del=function(e){for(let n,r,i=0;i<this.queue.length;i++)r=this.queue[i],n=this.cache[r],n.includes(e)&&(this.queue.splice(i--,1),delete this.cache[r])};const preset={memory:{charset:"latin:extra",resolution:3,minlength:4,fastupdate:!1},performance:{resolution:3,minlength:3,optimize:!1,context:{depth:2,resolution:1}},match:{charset:"latin:extra",tokenize:"reverse"},score:{charset:"latin:advanced",resolution:20,minlength:3,context:{depth:3,resolution:9}},default:{}};function apply_preset(e){if(is_string(e))e=preset[e];else{const n=e.preset;n&&(e=Object.assign({},n[n],e))}return e}function async(e,n,r,i,s,l,u){setTimeout(function(){const g=e(r?r+"."+i:i,JSON.stringify(u));g&&g.then?g.then(function(){n.export(e,n,r,s,l+1)}):n.export(e,n,r,s,l+1)})}function exportIndex(e,n,r,i,s){let l,u;switch(s||(s=0)){case 0:if(l="reg",this.fastupdate)for(let g in u=create_object(),this.register)u[g]=1;else u=this.register;break;case 1:l="cfg",u={doc:0,opt:this.optimize?1:0};break;case 2:l="map",u=this.map;break;case 3:l="ctx",u=this.ctx;break;default:return}return async(e,n||this,r,l,i,s,u),!0}function importIndex(e,n){n&&(is_string(n)&&(n=JSON.parse(n)),e==="cfg"?this.optimize=!!n.opt:e==="reg"?(this.fastupdate=!1,this.register=n):e==="map"?this.map=n:e==="ctx"&&(this.ctx=n))}function exportDocument(e,n,r,i,s){if(s||(s=0),i||(i=0),i<this.field.length){const l=this.field[i],u=this.index[l];n=this,setTimeout(function(){u.export(e,n,s?l:"",i,s++)||(i++,s=1,n.export(e,n,l,i,s))})}else{let l,u;switch(s){case 1:l="tag",u=this.tagindex;break;case 2:l="store",u=this.store;break;default:return}async(e,this,r,l,i,s,u)}}function importDocument(e,n){if(n)switch(is_string(n)&&(n=JSON.parse(n)),e){case"tag":this.tagindex=n;break;case"reg":this.fastupdate=!1,this.register=n;for(let i,s=0;s<this.field.length;s++)i=this.index[this.field[s]],i.register=n,i.fastupdate=!1;break;case"store":this.store=n;break;default:e=e.split(".");const r=e[0];e=e[1],r&&e&&this.index[r].import(e,n)}}function Index(e,n){if(!(this instanceof Index))return new Index(e);let r,i,s;e?(e=apply_preset(e),r=e.charset,i=e.lang,is_string(r)&&(r.indexOf(":")===-1&&(r+=":default"),r=global_charset[r]),is_string(i)&&(i=global_lang[i])):e={};let l,u,g=e.context||{};this.encode=e.encode||r&&r.encode||encode$4,this.register=n||create_object(),this.resolution=l=e.resolution||9,this.tokenize=s=r&&r.tokenize||e.tokenize||"strict",this.depth=s==="strict"&&g.depth,this.bidirectional=parse_option(g.bidirectional,!0),this.optimize=u=parse_option(e.optimize,!0),this.fastupdate=parse_option(e.fastupdate,!0),this.minlength=e.minlength||1,this.boost=e.boost,this.map=u?create_object_array(l):create_object(),this.resolution_ctx=l=g.resolution||1,this.ctx=u?create_object_array(l):create_object(),this.rtl=r&&r.rtl||e.rtl,this.matcher=(s=e.matcher||i&&i.matcher)&&init_stemmer_or_matcher(s,!1),this.stemmer=(s=e.stemmer||i&&i.stemmer)&&init_stemmer_or_matcher(s,!0),this.filter=(s=e.filter||i&&i.filter)&&init_filter(s),this.cache=(s=e.cache)&&new CacheClass(s)}Index.prototype.append=function(e,n){return this.add(e,n,!0)},Index.prototype.add=function(e,n,r,i){if(n&&(e||e===0)){if(!i&&!r&&this.register[e])return this.update(e,n);n=this.encode(""+n);const s=n.length;if(s){const l=create_object(),u=create_object(),g=this.depth,y=this.resolution;for(let x=0;x<s;x++){let f=n[this.rtl?s-1-x:x],t=f.length;if(f&&t>=this.minlength&&(g||!u[f])){let a=get_score(y,s,x),o="";switch(this.tokenize){case"full":if(2<t){for(let c=0;c<t;c++)for(let h=t;h>c;h--)if(h-c>=this.minlength){const d=get_score(y,s,x,t,c);o=f.substring(c,h),this.push_index(u,o,d,e,r)}break}case"reverse":if(1<t){for(let c=t-1;0<c;c--)if(o=f[c]+o,o.length>=this.minlength){const h=get_score(y,s,x,t,c);this.push_index(u,o,h,e,r)}o=""}case"forward":if(1<t){for(let c=0;c<t;c++)o+=f[c],o.length>=this.minlength&&this.push_index(u,o,a,e,r);break}default:if(this.boost&&(a=Math.min(0|a/this.boost(n,f,x),y-1)),this.push_index(u,f,a,e,r),g&&1<s&&x<s-1){const c=create_object(),h=this.resolution_ctx,d=f,p=Math.min(g+1,s-x);c[d]=1;for(let m=1;m<p;m++)if(f=n[this.rtl?s-1-x-m:x+m],f&&f.length>=this.minlength&&!c[f]){c[f]=1;const v=get_score(h+(s/2>h?0:1),s,x,p-1,m-1),_=this.bidirectional&&f>d;this.push_index(l,_?d:f,v,e,r,_?f:d)}}}}}this.fastupdate||(this.register[e]=1)}}return this};function get_score(e,n,r,i,s){return r&&1<e?n+(i||0)<=e?r+(s||0):0|(e-1)/(n+(i||0))*(r+(s||0))+1:0}Index.prototype.push_index=function(e,n,r,i,s,l){let u=l?this.ctx:this.map;if((!e[n]||l&&!e[n][l])&&(this.optimize&&(u=u[r]),l?(e=e[n]||(e[n]=create_object()),e[l]=1,u=u[l]||(u[l]=create_object())):e[n]=1,u=u[n]||(u[n]=[]),this.optimize||(u=u[r]||(u[r]=[])),(!s||!u.includes(i))&&(u[u.length]=i,this.fastupdate))){const g=this.register[i]||(this.register[i]=[]);g[g.length]=u}},Index.prototype.search=function(e,n,r){r||(!n&&is_object(e)?(r=e,e=r.query):is_object(n)&&(r=n));let i,s,l,u=[],g=0;if(r&&(e=r.query||e,n=r.limit,g=r.offset||0,s=r.context,l=r.suggest),e&&(e=this.encode(""+e),i=e.length,1<i)){const t=create_object(),a=[];for(let o,c=0,h=0;c<i;c++)if(o=e[c],o&&o.length>=this.minlength&&!t[o]){if(!this.optimize&&!l&&!this.map[o])return u;a[h++]=o,t[o]=1}e=a,i=e.length}if(!i)return u;n||(n=100);let y,x=this.depth&&1<i&&s!==!1,f=0;x?(y=e[0],f=1):1<i&&e.sort(sort_by_length_down);for(let t,a;f<i;f++){if(a=e[f],x?(t=this.add_result(u,l,n,g,i===2,a,y),(!l||t!==!1||!u.length)&&(y=a)):t=this.add_result(u,l,n,g,i===1,a),t)return t;if(l&&f==i-1){let o=u.length;if(!o){if(x){x=0,f=-1;continue}return u}if(o===1)return single_result(u[0],n,g)}}return intersect(u,n,g,l)},Index.prototype.add_result=function(e,n,r,i,s,l,u){let g=[],y=u?this.ctx:this.map;if(this.optimize||(y=get_array(y,l,u,this.bidirectional)),y){let x=0;const f=Math.min(y.length,u?this.resolution_ctx:this.resolution);for(let t,a,o=0,c=0;o<f&&(t=y[o],!(t&&(this.optimize&&(t=get_array(t,l,u,this.bidirectional)),i&&t&&s&&(a=t.length,a<=i?(i-=a,t=null):(t=t.slice(i),i=0)),t&&(g[x++]=t,s&&(c+=t.length,c>=r)))));o++);if(x)return s?single_result(g,r,0):void(e[e.length]=g)}return!n&&g};function single_result(e,n,r){return e=e.length===1?e[0]:concat(e),r||e.length>n?e.slice(r,r+n):e}function get_array(e,n,r,i){if(r){const s=i&&n>r;e=e[s?n:r],e=e&&e[s?r:n]}else e=e[n];return e}Index.prototype.contain=function(e){return!!this.register[e]},Index.prototype.update=function(e,n){return this.remove(e).add(e,n)},Index.prototype.remove=function(e,n){const r=this.register[e];if(r){if(this.fastupdate)for(let i,s=0;s<r.length;s++)i=r[s],i.splice(i.indexOf(e),1);else remove_index(this.map,e,this.resolution,this.optimize),this.depth&&remove_index(this.ctx,e,this.resolution_ctx,this.optimize);n||delete this.register[e],this.cache&&this.cache.del(e)}return this};function remove_index(e,n,r,i,s){let l=0;if(is_array(e))if(s){const u=e.indexOf(n);u===-1?l++:1<e.length&&(e.splice(u,1),l++)}else{s=Math.min(e.length,r);for(let u,g=0;g<s;g++)u=e[g],u&&(l=remove_index(u,n,r,i,s),!i&&!l&&delete e[g])}else for(let u in e)l=remove_index(e[u],n,r,i,s),l||delete e[u];return l}Index.prototype.searchCache=searchCache,Index.prototype.export=exportIndex,Index.prototype.import=importIndex,apply_async(Index.prototype);function handler(e){e=e.data;const n=self._index,r=e.args,i=e.task;switch(i){case"init":const s=e.options||{},l=e.factory,u=s.encode;s.cache=!1,u&&u.indexOf("function")===0&&(s.encode=Function("return "+u)()),l?(Function("return "+l)()(self),self._index=new self.FlexSearch.Index(s),delete self.FlexSearch):self._index=new Index(s);break;default:const g=e.id,y=n[i].apply(n,r);postMessage(i==="search"?{id:g,msg:y}:{id:g})}}let pid=0;function WorkerIndex(e){if(!(this instanceof WorkerIndex))return new WorkerIndex(e);let n;e?is_function(n=e.encode)&&(e.encode=n.toString()):e={};let r=(self||window)._factory;r&&(r=r.toString());const i=typeof window>"u"&&self.exports,s=this;this.worker=create(r,i,e.worker),this.resolver=create_object(),this.worker&&(i?this.worker.on("message",function(l){s.resolver[l.id](l.msg),delete s.resolver[l.id]}):this.worker.onmessage=function(l){l=l.data,s.resolver[l.id](l.msg),delete s.resolver[l.id]},this.worker.postMessage({task:"init",factory:r,options:e}))}register("add"),register("append"),register("search"),register("update"),register("remove");function register(e){WorkerIndex.prototype[e]=WorkerIndex.prototype[e+"Async"]=function(){const n=this,r=[].slice.call(arguments),i=r[r.length-1];let s;is_function(i)&&(s=i,r.splice(r.length-1,1));const l=new Promise(function(u){setTimeout(function(){n.resolver[++pid]=u,n.worker.postMessage({task:e,id:pid,args:r})})});return s?(l.then(s),this):l}}function create(factory,is_node_js,worker_path){let worker;try{worker=is_node_js?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):factory?new Worker(URL.createObjectURL(new Blob(["onmessage="+handler.toString()],{type:"text/javascript"}))):new Worker(is_string(worker_path)?worker_path:"worker/worker.js",{type:"module"})}catch(e){}return worker}function Document(e){if(!(this instanceof Document))return new Document(e);const n=e.document||e.doc||e;let r;this.tree=[],this.field=[],this.marker=[],this.register=create_object(),this.key=(r=n.key||n.id)&&parse_tree(r,this.marker)||"id",this.fastupdate=parse_option(e.fastupdate,!0),this.storetree=(r=n.store)&&r!==!0&&[],this.store=r&&create_object(),this.tag=(r=n.tag)&&parse_tree(r,this.marker),this.tagindex=r&&create_object(),this.cache=(r=e.cache)&&new CacheClass(r),e.cache=!1,this.worker=e.worker,this.async=!1,this.index=parse_descriptor.call(this,e,n)}function parse_descriptor(e,n){const r=create_object();let i=n.index||n.field||n;is_string(i)&&(i=[i]);for(let s,l,u=0;u<i.length;u++)s=i[u],is_string(s)||(l=s,s=s.field),l=is_object(l)?Object.assign({},e,l):e,this.worker&&(r[s]=new WorkerIndex(l),!r[s].worker&&(this.worker=!1)),this.worker||(r[s]=new Index(l,this.register)),this.tree[u]=parse_tree(s,this.marker),this.field[u]=s;if(this.storetree){let s=n.store;is_string(s)&&(s=[s]);for(let l=0;l<s.length;l++)this.storetree[l]=parse_tree(s[l],this.marker)}return r}function parse_tree(e,n){const r=e.split(":");let i=0;for(let s=0;s<r.length;s++)e=r[s],0<=e.indexOf("[]")&&(e=e.substring(0,e.length-2),e&&(n[i]=!0)),e&&(r[i++]=e);return i<r.length&&(r.length=i),1<i?r:r[0]}function parse_simple(e,n){if(is_string(n))e=e[n];else for(let r=0;e&&r<n.length;r++)e=e[n[r]];return e}function store_value(e,n,r,i,s){if(e=e[s],i===r.length-1)n[s]=e;else if(e)if(is_array(e)){n=n[s]=Array(e.length);for(let l=0;l<e.length;l++)store_value(e,n,r,i,l)}else n=n[s]||(n[s]=create_object()),s=r[++i],store_value(e,n,r,i,s)}function add_index(e,n,r,i,s,l,u,g){if(e=e[u],e)if(i===n.length-1){if(is_array(e)){if(r[i]){for(let y=0;y<e.length;y++)s.add(l,e[y],!0,!0);return}e=e.join(" ")}s.add(l,e,g,!0)}else if(is_array(e))for(let y=0;y<e.length;y++)add_index(e,n,r,i,s,l,y,g);else u=n[++i],add_index(e,n,r,i,s,l,u,g)}Document.prototype.add=function(e,n,r){if(is_object(e)&&(n=e,e=parse_simple(n,this.key)),n&&(e||e===0)){if(!r&&this.register[e])return this.update(e,n);for(let i,s,l=0;l<this.field.length;l++)s=this.field[l],i=this.tree[l],is_string(i)&&(i=[i]),add_index(n,i,this.marker,0,this.index[s],e,i[0],r);if(this.tag){let i=parse_simple(n,this.tag),s=create_object();is_string(i)&&(i=[i]);for(let l,u,g=0;g<i.length;g++)if(l=i[g],!s[l]&&(s[l]=1,u=this.tagindex[l]||(this.tagindex[l]=[]),(!r||!u.includes(e))&&(u[u.length]=e,this.fastupdate))){const y=this.register[e]||(this.register[e]=[]);y[y.length]=u}}if(this.store&&(!r||!this.store[e])){let i;if(this.storetree){i=create_object();for(let s,l=0;l<this.storetree.length;l++)s=this.storetree[l],is_string(s)?i[s]=n[s]:store_value(n,i,s,0,s[0])}this.store[e]=i||n}}return this},Document.prototype.append=function(e,n){return this.add(e,n,!0)},Document.prototype.update=function(e,n){return this.remove(e).add(e,n)},Document.prototype.remove=function(e){if(is_object(e)&&(e=parse_simple(e,this.key)),this.register[e]){for(let n=0;n<this.field.length&&(this.index[this.field[n]].remove(e,!this.worker),!this.fastupdate);n++);if(this.tag&&!this.fastupdate)for(let n in this.tagindex){const r=this.tagindex[n],i=r.indexOf(e);i!==-1&&(1<r.length?r.splice(i,1):delete this.tagindex[n])}this.store&&delete this.store[e],delete this.register[e]}return this},Document.prototype.search=function(e,n,r,i){r||(!n&&is_object(e)?(r=e,e=""):is_object(n)&&(r=n,n=0));let s,l,u,g,y,x,f=[],t=[],a=0;if(r)if(is_array(r))u=r,r=null;else{if(e=r.query||e,s=r.pluck,u=s||r.index||r.field,g=r.tag,l=this.store&&r.enrich,y=r.bool==="and",n=r.limit||n||100,x=r.offset||0,g&&(is_string(g)&&(g=[g]),!e)){for(let c,h=0;h<g.length;h++)c=get_tag.call(this,g[h],n,x,l),c&&(f[f.length]=c,a++);return a?f:[]}is_string(u)&&(u=[u])}u||(u=this.field),y=y&&(1<u.length||g&&1<g.length);const o=!i&&(this.worker||this.async)&&[];for(let c,h,d,p=0;p<u.length;p++){let m;if(h=u[p],is_string(h)||(m=h,h=m.field,e=m.query||e,n=m.limit||n),o){o[p]=this.index[h].searchAsync(e,n,m||r);continue}else c=i?i[p]:this.index[h].search(e,n,m||r);if(d=c&&c.length,g&&d){const v=[];let _=0;y&&(v[0]=[c]);for(let k,w,E=0;E<g.length;E++)k=g[E],w=this.tagindex[k],d=w&&w.length,d&&(_++,v[v.length]=y?[w]:w);_&&(c=y?intersect(v,n||100,x||0):intersect_union(c,v),d=c.length)}if(d)t[a]=h,f[a++]=c;else if(y)return[]}if(o){const c=this;return new Promise(function(h){Promise.all(o).then(function(d){h(c.search(e,n,r,d))})})}if(!a)return[];if(s&&(!l||!this.store))return f[0];for(let c,h=0;h<t.length;h++){if(c=f[h],c.length&&l&&(c=apply_enrich.call(this,c)),s)return c;f[h]={field:t[h],result:c}}return f};function get_tag(e,n,r,i){let s=this.tagindex[e],l=s&&s.length-r;if(l&&0<l)return(l>n||r)&&(s=s.slice(r,r+n)),i&&(s=apply_enrich.call(this,s)),{tag:e,result:s}}function apply_enrich(e){const n=Array(e.length);for(let r,i=0;i<e.length;i++)r=e[i],n[i]={id:r,doc:this.store[r]};return n}Document.prototype.contain=function(e){return!!this.register[e]},Document.prototype.get=function(e){return this.store[e]},Document.prototype.set=function(e,n){return this.store[e]=n,this},Document.prototype.searchCache=searchCache,Document.prototype.export=exportDocument,Document.prototype.import=importDocument,apply_async(Document.prototype);const cjk={encode:encode$3,rtl:!1,tokenize:"strict"},regex=/[\x00-\x7F]+/g;function encode$3(e){return pipeline.call(this,(""+e).replace(regex,""),!1,"",!1)}const filter=["a","about","above","after","again","against","all","also","am","an","and","any","are","aren't","as","at","be","because","been","before","being","below","both","but","by","can","cannot","can't","come","could","couldn't","did","didn't","do","does","doesn't","doing","dont","down","during","each","even","few","first","for","from","further","get","go","had","hadn't","has","hasn't","have","haven't","having","he","hed","her","here","here's","hers","herself","hes","him","himself","his","how","how's","i","id","if","ill","im","in","into","is","isn't","it","it's","itself","i've","just","know","let's","like","make","me","more","most","mustn't","my","myself","new","no","nor","not","now","of","off","on","once","only","or","other","ought","our","our's","ourselves","out","over","own","same","say","see","shan't","she","she'd","shell","shes","should","shouldn't","so","some","such","than","that","that's","the","their","theirs","them","themselves","then","there","there's","these","they","they'd","they'll","they're","they've","this","those","through","time","to","too","until","up","us","very","want","was","wasn't","way","we","wed","well","were","weren't","we've","what","what's","when","when's","where","where's","which","while","who","whom","who's","why","why's","will","with","won't","would","wouldn't","you","you'd","you'll","your","you're","your's","yourself","yourselves","you've"],stemmer={ational:"ate",iveness:"ive",fulness:"ful",ousness:"ous",ization:"ize",tional:"tion",biliti:"ble",icate:"ic",ative:"",alize:"al",iciti:"ic",entli:"ent",ousli:"ous",alism:"al",ation:"ate",aliti:"al",iviti:"ive",ement:"",enci:"ence",anci:"ance",izer:"ize",alli:"al",ator:"ate",logi:"log",ical:"ic",ance:"",ence:"",ness:"",able:"",ible:"",ment:"",eli:"e",bli:"ble",ful:"",ant:"",ent:"",ism:"",ate:"",iti:"",ous:"",ive:"",ize:"",al:"",ou:"",er:"",ic:""},matcher={},lang={filter,stemmer,matcher},regex_a=regex$1("[àáâãäå]"),regex_e=regex$1("[èéêë]"),regex_i=regex$1("[ìíîï]"),regex_o=regex$1("[òóôõöő]"),regex_u=regex$1("[ùúûüű]"),regex_y=regex$1("[ýŷÿ]"),regex_n=regex$1("ñ"),regex_c=regex$1("[çc]"),regex_s=regex$1("ß"),regex_and=regex$1(" & "),pairs$1=[regex_a,"a",regex_e,"e",regex_i,"i",regex_o,"o",regex_u,"u",regex_y,"y",regex_n,"n",regex_c,"k",regex_s,"s",regex_and," and "];function encode$2(e){return e=""+e,pipeline.call(this,normalize(e).toLowerCase(),!e.normalize&&pairs$1,regex_whitespace,!1)}const regex_strip=/[^a-z0-9]+/,soundex={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function encode$1(e){e=encode$2.call(this,e).join(" ");const n=[];if(e){const r=e.split(regex_strip),i=r.length;for(let s,l=0,u=0;l<i;l++)if((e=r[l])&&(!this.filter||!this.filter[e])){s=e[0];let g=soundex[s]||s,y=g;for(let x=1;x<e.length;x++){s=e[x];const f=soundex[s]||s;f&&f!==y&&(g+=f,y=f)}n[u++]=g}}return n}const charset={encode,rtl:!1,tokenize:""},regex_ae=regex$1("ae"),regex_oe=regex$1("oe"),regex_sh=regex$1("sh"),regex_th=regex$1("th"),regex_ph=regex$1("ph"),regex_pf=regex$1("pf"),pairs=[regex_ae,"a",regex_oe,"o",regex_sh,"s",regex_th,"t",regex_ph,"f",regex_pf,"f",regex$1("(?![aeo])h(?![aeo])"),"",regex$1("(?!^[aeo])h(?!^[aeo])"),""];function encode(e,n){return e&&(e=encode$1.call(this,e).join(" "),2<e.length&&(e=replace(e,pairs)),!n&&(1<e.length&&(e=collapse(e)),e&&(e=e.split(" ")))),e||[]}const fsDocument={id:"slug",index:["title","body"],store:["title","body"]},enIndex=new Document({preset:"performance",charset,lang,document:fsDocument}),koIndex=new Document({preset:"performance",document:fsDocument,...cjk}),response=await fetch("/search-index.json"),data=await response.json();data.forEach(e=>{enIndex.add(e),koIndex.add(e)});const inputEl=document.getElementById("search-input"),listEl=document.getElementById("search-results"),instance=new Mark(listEl);inputEl.focus();inputEl.addEventListener("keyup",e=>{if(!(e.currentTarget instanceof HTMLInputElement))return;const n=e.currentTarget.value;if(n.length<2){listEl.style.display="none";return}renderList(n),listEl.style.display="block"});function renderList(e){const n=search(e);if(listEl.innerHTML="",!n.length){const r=document.createElement("div");r.className="search-result-page",r.innerHTML="검색 결과가 없습니다.",listEl.append(r);return}n.forEach(({field:r,result:i})=>{i.forEach(({id:s,doc:l})=>{let u=0;if(r==="body"){const f=l.body.indexOf(e);u=Math.max(f,0)}const g=document.createElement("div");g.className="search-result-page";const y=document.createElement("a");y.className="search-result-title",y.href=`/post/${s}`,y.innerHTML=l.title,g.append(y);const x=document.createElement("div");x.className="search-result-body",x.innerHTML=l.body.substring(u,u+100),g.append(x),listEl.append(g)})}),instance.mark(e)}const isAlphanumeric=e=>/^[a-zA-Z0-9]+$/.test(e);function search(e){return(isAlphanumeric(e)?enIndex:koIndex).search(e,{limit:10,enrich:!0})}
